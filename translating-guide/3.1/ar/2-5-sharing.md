## مشاركة ترجماتك

1. إحفظ ملفاتك.
2. إقترح تضمين ملفاتك في مشروع المعرفة العامة
3. ...

### حفظ الملفات ووضعها في أماكنها الصحيحة

بمجرد ترجمتك لملفات XML الضرورية، ينبغي وضعها في مجلدات
ذات تسميات صحيحة، باستعمال الترمز الدولي ISO للغات والدول
(مثلاً الملفات في `locale/en_US` مترجمة إلى الفرنسية
ومحفوظة في مجلد اسمه `locale/fr_CA`).

الملفات الملحة التي لا بد من ترجمتها أولاً ليعمل النظام
بصورة صحيحة تتواجد في `locale/en_US`، `dbscripts/xml/data/locale/en_US`
(في النسخ الأقدم من 2.3 للنظامين فقط)، و `registry/locale/en_US` (أيضاً،
في النسخ الأقدم من 2.3).

اللغات الجديدة لابد من إضافة إدخال لها ضمن الملف `registry/locales.xml`، وبعدها
سيتسنى تنصيبها في النظام عبر واجهة المشرف على الموقع.


### إيداع ترجماتك 

موقع GitHub وآلية "pull request" أو ما يعرف بالتماس التضمين هي
الطريقة المثلى لتقديم ترجماتك إلى مشروع المعرفة العامة.

ستجد أن الرابط الآتي مفيداً جداً من أجل إنشاء مستودعك المحلي
لتقديم التعديلات الصادرة منك كما هو موضح في [أدبيات Github للمساهمين في مشروع المعرفة العامة](http://pkp.sfu.ca/wiki/index.php?title=Github_Documentation_for_PKP_Contributors) (موسوعة مشروع المعرفة العامة).

بمجرد تهيئتك لمستودعك المحلي، وحصولك على على المستودع المتفرع من أي من مستودعات مشروع المعرفة العامة، ستحتاج
إلى تقديم تعديلاتك إلى مستودعك العلوي المتفرع ("origin") كما هو مقترح في
[معلومات للمطورين](http://pkp.sfu.ca/wiki/index.php?title=Information_for_Developers#PKP_library_submodule_changes) (موسوعة مشروع المعرفة العامة).

لاحظ بأنه ما دامت ملفات الترجمة متوضعة في المجلد الرئيسي، فضلاً عن كونها متواجدة ضمن الوحدة الفرعية، مجلد "lib/pkp"، فستحتاج إلى إجراء عمليتي دمج: إحداهما للمستودع الرئيسي للنظامين، والأخرى للوحدة الفرعية المشتركة بينهما "pkp-lib".

بإيجاز، إليك ما يجب عليك اتباعه من خطوات:

1.  خذ تفريعك من مستودعي النظامين ومن المستودع "lib-pkp" إلى حسابك الخاص على موقع github.
2.  إنسخ تفريعاتك إلى مستودعاتك المحلية في حاسبتك.
3.  أجر كل التعديلات والترجمات في الحاسبة.
4.  إرفع الملفات المعدلة و/أو المضافة للمستودع "lib-pkp" أولاً، ومن ثم للنظامين (بشكل منفصل)
    إلى مستودعاتك المتفرعة.
5.  أطلب إلتماسين مستقلين للدمج "pull request" (عبر واجهة موقع github).

بشيء من التفصيل، هذه هي التعليمات المحددة التي عليك تنفيذها بعد تفريع مستودعيك من المستودعين الأصليين لمشروع المعرفة العامة:

```
# إختر الفرع المناسب ضمن مستودعك (مثلاً: ojs-dev_2_4)، متضمناً الوحدات الفرعية.
git checkout ojs-dev_2_4
git submodule update --init --recursive\
cd lib/pkp
git checkout ojs-dev_2_4
cd ../..
```

```
# أنشئ فرعاً جديداً ليضم ترجماتك (لكل من النظامين والمستودع "pkp-lib")
git checkout -b tra-es_ES-245 origin/ojs-dev-2_4
cd lib/pkp
git checkout -b tra-es_ES-245 origin/ojs-dev-2_4
cd ../..
```

```
# إذاكنت تعمل مستعيناً بأدوات خارجية (مثل: أدوات CAT التي تنشئ ملفات XML جديدة) إنسخ ملفاتك فوق ما موجود منها.
cp origen/* . -a
```

```
# أودع تعديلات (أولاً في الفرع الجديد التابع لك)
cd lib/pkp
git add .
git commit -a
cd ../..
git add .
git commit -a
```

```
# أرسل تعديلاتك إلى مستودعك الخاص بك على موقع github.
git push -u origin tra-es_ES-243
cd lib/pkp
git push -u origin tra-es_ES-243
cd ../..
```

```
# أطلب إلتماس الدمج "pull request" لترسل عملك إلى المستودع الرسمي لمشروع المعرفة العامة (أولاً الوحدة الثانوية المشتركة، ومن ثم المجلد الرئيسي).
```

### بعض التلميحات

إضافة مشروع فرعي:

```
git submodule add [git://github.com/marcbria/adminlocker](git://github.com/marcbria/adminlocker) plugins/generic/adminLocker
```

تغيير مستودعك البعيد (مثلاً: من git إلى https)

```
git remote set-url origin https://github.com/marcbria/pkp-lib.git
```

إضافة معلومات الألوان:

```
git config --global --add color.ui true
```

رسم التفريعات:

```
git log --graph --oneline --all https://github.com/pkp/ojs/network
```

### تصدير الترجمة

يمكنك تصدير الترجمة عبر النقر على رابط <em>التصدير</em> المحاذي
لاسم اللغة ضمن صفحة إضافة الترجمة: سيقوم النظام بضغط
كل ملفات اللغة لتلك الترجمة ليجعلها بشكل ملف قابل
للتنزيل بصيغة tar.gz. هذا مفيد بشكل خاص إذا أردت نقل ترجمات مضافة حديثاً
إلى موقع آخر يعمل بنظام المجلات المفتوحة أو نظام المؤتمرات المفتوحة،
أو إذا أردت المساهمة بملفاتك مباشرة إلى مشروع المعرفة العامة.

